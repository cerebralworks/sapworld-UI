
<div formGroupName="skillSet">
  <div class="row mt-5">
    <div class="col-lg-12 col-md-6">
      <label>{{"postYourResume.handsOnExperience" | translate }}</label>
      <div appMarkAsterisk></div>
    </div>
  </div>
    <div class="row mt-2" *ngFor="let ticket of t.controls; let i = index; let last = last">
      <ng-container [formGroup]="ticket">
        <div class="col-lg-5 col-md-8">
          <ngx-select
          class="text-capitalize"
          (select)="onSelectSkillEvent($event, i)"
          [placeholder]="'Select Skills'"
          [items]="skillItems"
          formControlName="skill_id"
          optionValueField="id"
          optionTextField="tags"
          autoClearSearch="true"
          noResultsFound="No results found"
           >
           <ng-template ngx-select-option-selected let-option let-text="text">
           {{option?.text ? option?.text?.split('--')[0] : ''}}
          </ng-template>

          <ng-template ngx-select-option let-option let-text="text">
              <span *ngIf="indexOfFilter(option?.value,i) ==true " >{{option?.text}}</span>
          </ng-template>

          <ng-template ngx-select-option-not-found>
              Nothing found
          </ng-template>
           </ngx-select>
          <app-control-messages [control]="ticket['controls']['skill_id']"></app-control-messages>
        </div>

        <div class="col-lg-2 col-md-4">
          <div class="input-group mb-3">
            <input numbersOnly formControlName="experience" type="text" class="form-control" placeholder="Exp">
            <div class="input-group-append ">
              <select formControlName="exp_type" class="input-group-text" id="basic-addon2">
                <option value="years">Yrs</option>
                <option value="months">Mon</option>
              </select>
            </div>
            <app-control-messages [control]="ticket['controls']['experience']"></app-control-messages>
          </div>

        </div>
        <div class="col-lg-2 col-md-4">
          <button type="button" class="btn btn-outline-danger"
            style="line-height: 1.75; padding: .5rem 1.0rem;" (click)="onRemove(i)"><i class="fas fa-times"></i></button>
          <button *ngIf="last" (click)="onDuplicate(i)" type="button" class="btn btn-outline-green ml-2"
            style="line-height: 1.75; padding: .5rem 1.0rem;"><i class="fas fa-plus"></i></button>
        </div>
      </ng-container>
    </div>

  <div class="row mt-3">
    <div class="col-lg-9 col-md-6">
      <div class=" form-group">
        <label>{{"dashboard.knowledgeOn" | translate }} </label>
        <ngx-select
        class="text-capitalize"
        [placeholder]="'Select Skills'"
        [multiple]="true"
		
         (select)="onSelectSkillsEvent($event)"
         (remove)="onRemoveSkillEvent($event)"
        appMarkAsterisk
        [items]="skillsItems"
        formControlName="skills"
        optionValueField="id"
        optionTextField="tags"
        autoClearSearch="true"
        noResultsFound="No results found"
         >
         <ng-template ngx-select-option-selected let-option let-text="text">
          {{option?.text ? option?.text?.split('--')[0] : ''}}
        </ng-template>

        <ng-template ngx-select-option let-option let-text="text">
            {{option?.text}}
        </ng-template>

        <ng-template ngx-select-option-not-found>
            Nothing found
        </ng-template>
        </ngx-select>
        <app-control-messages [control]="f['skills']"></app-control-messages>
      </div>
    </div>
  </div>
  <div class="row mt-2">
    <div class="col-lg-9 col-md-6">
      <div class=" form-group">
        <label>{{"postJob.programmingSkills" | translate }}</label>
        <ng-select appMarkAsterisk id="programmingSkills" [addTag]="true" addTagText="Add Programming Skill" bindValue="label" bindLabel="label" placeholder="Ex. Javascript, Php" appendTo="body" multiple="true"
          formControlName="programming_skills">
        </ng-select>
        <app-control-messages [control]="f['programming_skills']"></app-control-messages>
      </div>
    </div>
  </div>
  <div class="row mt-2">
    <div class="col-lg-9 col-md-6">
      <div class=" form-group">
        <label>{{"postYourResume.others" | translate }}</label>
        <ng-select appMarkAsterisk id="othersSkills" [addTag]="true" addTagText="Add Other Skill" bindValue="label" bindLabel="label" placeholder="Ex. Docker, Azure" appendTo="body" multiple="true"
          formControlName="other_skills">
        </ng-select>
        <app-control-messages [control]="f['other_skills']"></app-control-messages>
      </div>
    </div>
  </div>
  <div class="row mt-2">
    <div class="col-lg-9 col-md-6">
      <div class=" form-group">
        <label>{{"postJob.certification" | translate }} </label>
        <ng-select id="programmingSkills" [addTag]="true" addTagText="Add Programming Skill" bindValue="label" bindLabel="label" placeholder="Ex. AWS, CCNA" appendTo="body" multiple="true"
          formControlName="certification">
        </ng-select>
      </div>
    </div>
  </div>
</div>
